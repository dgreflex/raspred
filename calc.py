matrix1 = {
    0 :  [[1, 1, 2], [2, 1, 2]],
    1 :  [[3, 1, 3], [4, 1, 6]],
    2 :  [[4, 1, 6], [5, 1, 3]],
    3 :  [[7, 1, 12], [6, 1, 4]],
    4 :  [[7, 1, 6], [8, 1, 6]],
    5 :  [[8, 1, 12], [9, 1, 4]],
    6 :  [[10, 1, 5], [11, 1, 20]],
    7 :  [[11, 3, 20], [12, 1, 10]],
    8 :  [[12, 1, 10], [13, 3, 20]],
    9 :  [[13, 1, 20], [14, 1, 5]],
    10 : [[15, 1, 5]],
    11 : [[15, 1, 20], [16, 3, 20]],
    12 : [[16, 1, 10], [17, 1, 10]],
    13 : [[17, 3, 20], [18, 1, 20]],
    14 : [[18, 1, 5]],
    15 : [[19, 1, 4]],
    16 : [[19, 1, 12], [20, 1, 6]],
    17 : [[20, 1, 6], [21, 1, 12]],
    18 : [[21, 1, 4]],
    19 : [[22, 1, 3]],
    20 : [[22, 1, 6], [23, 1, 6]],
    21 : [[23, 1, 3]],
    22 : [[24, 1, 2]],
    23 : [[24, 1, 2]],
}

matrix2 = {
    0 :  [[1, 1, 2], [2, 1, 2]],
    1 :  [[3, 1, 4], [4, 1, 4]],
    2 :  [[4, 1, 5], [5, 1, 4]],
    3 :  [[6, 1, 8], [7, 1, 8]],
    4 :  [[7, 1, 4], [8, 1, 4]],
    5 :  [[8, 1, 8], [9, 1, 8]],
    6 :  [[10, 1, 16], [11, 1, 16]],
    7 :  [[11, 3, 16], [12, 3, 16]],
    8 :  [[12, 3, 16], [13, 3, 16]],
    9 :  [[13, 1, 16], [14, 1, 16]],
    10 : [[15, 1, 16]],
    11 : [[15, 1, 8], [16, 1, 8]],
    12 : [[16, 3, 16], [17, 3, 16]],
    13 : [[17, 1, 8], [18, 1, 8]],
    14 : [[18, 1, 16]],
    15 : [[19, 3, 16]],
    16 : [[19, 5, 32], [20, 5, 32]],
    17 : [[20, 5, 32], [21, 5, 32]],
    18 : [[21, 3, 16]],
    19 : [[22, 11, 32]],
    20 : [[22, 5, 32], [23, 5, 32]],
    21 : [[23, 11, 32]],
    22 : [[24, 1, 2]],
    23 : [[24, 1, 2]],
}

def func(matrix, point):
    res = []
    if point not in matrix:
        return 0 
    for i in matrix[point]:
        res.append(func(matrix, i[0]) + i[1] / i[2])
    return max(res)

print(func(matrix1, 0))
print(func(matrix2, 0))
